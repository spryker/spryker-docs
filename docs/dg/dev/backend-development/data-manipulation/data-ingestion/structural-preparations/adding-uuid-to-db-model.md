---
title: Adding UUID to the DB model
description: This article describes how add an autogenerated column UUID to the DB mmodel.
last_updated: Oct 24, 2025
template: howto-guide-template
---

Spryker provides a possibility to automatically generate a UUID column based on the row data.
We recommend exposing only UUID through customer-facing APIs, like Storefront API and Glue API.

1. Update composer dependency:

```shell
composer require spryker/uuid-behavior
```

2. Extend your Propel model definition with:

```xml
        <column name="uuid" required="false" type="VARCHAR" size="36"/>

        <behavior name="uuid">
            <parameter name="key_columns" value="<column list, dot-separated, e.g. id_table_name.some_column.>"/>
        </behavior>
```

Columns list has to contain columns from this table, dot-separated.
UUID is generated from the string, containing dot-separated values of these columns.
It makes sense to include **id_** column in the list as well, since UUID5 generation is producing the same value for the same combined value of the key columns. 

{% info_block warningBox "Prerequisite" %}

You have to add definition of a column *uuid* of a type string with length of at least 36.
If not, any insert operation to this table will fail.

{% endinfo_block %}

3. Run the command to update DB and PHP-models:

```shell
console propel:install.
```

4. The `uuid` column is present in the DB table.
Now, try insert any entity.

5. OPTIONALY, if you have already existing entities in the tables, where you add `uuid` column.
 
6. Update composer dependency:

```shell
composer require spryker/uuid
```

7. Add \Spryker\Zed\Uuid\Communication\Console\UuidGeneratorConsole into your \Pyz\Zed\Console\ConsoleDependencyProvider::getConsoleCommands:

```php
namespace Pyz\Zed\Console;

...
use Spryker\Zed\Uuid\Communication\Console\UuidGeneratorConsole;
...

class ConsoleDependencyProvider extends SprykerConsoleDependencyProvider

    ...
    protected function getConsoleCommands(Container $container): array
            ...
            new UuidGeneratorConsole(),
            ...

```

8. Execute console command `uuid:generate` for each affected table:

```shell
console uuid:generate Module table 
```

9. Verify that all table.uuid are filled with values.
