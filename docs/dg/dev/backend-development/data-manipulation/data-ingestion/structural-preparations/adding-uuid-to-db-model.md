---
title: Adding UUID to the DB model
description: This article describes how to add an autogenerated UUID column to the database model.
last_updated: Oct 24, 2025
template: howto-guide-template
---

Spryker can automatically generate a UUID column based on row data.
Expose only UUIDs through customer-facing APIs, such as the Storefront API and Glue API.

1. Require the composer dependency:

```shell
composer require spryker/uuid-behavior
```

2. Extend your Propel model definition:

```xml
        <column name="uuid" required="false" type="VARCHAR" size="36"/>

        <behavior name="uuid">
            <parameter
                name="key_columns"
                value="<column list, dot-separated, e.g. id_table_name.some_column.>"
        />
        </behavior>
```

The column list must contain columns from the same table, separated by dots (`.`).
The UUID is generated from a string that concatenates the dot-separated values of these columns.
Include the primary key (`id_â€¦`) in the list, because UUID version 5 (UUIDv5) generates the same UUID for the same combined key-column values.

{% info_block warningBox "Prerequisite" %}

Add a `uuid` column of type string with a length of at least 36 characters.
Otherwise, insert operations into this table fail.

{% endinfo_block %}

3. Update the database schema and regenerate PHP models:

```shell
console propel:install
```

4. Verify that the `uuid` column is present in the database table.
Insert a new entity to confirm that UUIDs are generated automatically.

5. Optional onwards: If the tables already contain entities, backfill the `uuid` column.
 
6. Require the composer dependency:

```shell
composer require spryker/uuid
```

7. Add `\Spryker\Zed\Uuid\Communication\Console\UuidGeneratorConsole` to `\Pyz\Zed\Console\ConsoleDependencyProvider::getConsoleCommands`:

```php
namespace Pyz\Zed\Console;

...
use Spryker\Zed\Uuid\Communication\Console\UuidGeneratorConsole;
...

class ConsoleDependencyProvider extends SprykerConsoleDependencyProvider

    ...
    protected function getConsoleCommands(Container $container): array
            ...
            new UuidGeneratorConsole(),
            ...

```

8. Execute the `uuid:generate` console command for each affected table:

```shell
console uuid:generate Module table 
```

9. Verify that all `uuid` values  in the table `table` are filled with values.
